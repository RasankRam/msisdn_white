(function(){"use strict";var e={1166:function(e,t,n){var i=n(7195),a=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},o=[],s={name:"App",watch:{"$route.query":{handler:function(e){this.$store.dispatch("change_loading",!0),this.$store.dispatch("fetch_devices",e).then((()=>{this.$store.dispatch("change_loading",!1),setTimeout((()=>this.$store.dispatch("collapse_table_handler")))}))},deep:!0,immediate:!0}}},r=s,c=n(1001),d=(0,c.Z)(r,a,o,!1,null,null,null),u=d.exports,l=n(113),p=n(8725),f=n(4399),m=n.n(f),h=n(8428),_=n.n(h),g=n(4810),v=n.n(g),b=n(8046),k=n.n(b),y=(n(9307),n(9643)),w=n(4040),P=function(){var e=this,t=e._self._c;return t("button",{staticClass:"uk-button",class:{"uk-button-primary":e.isPrimary,"uk-button-default":e.isDefault,"uk-button-danger":e.isDanger,"uk-border-rounded":e.isRounded}},[e._t("default")],2)},Z=[],C={props:{type:{type:String,default:null},rounded:{type:Boolean,default:!1}},setup(e){const t=(0,i.Fl)((()=>null===e.type||"default"===e.type)),n=(0,i.Fl)((()=>"primary"===e.type)),a=(0,i.Fl)((()=>"danger"===e.type)),o=(0,i.Fl)((()=>e.rounded));return{isPrimary:n,isDefault:t,isDanger:a,isRounded:o}}},O=C,S=(0,c.Z)(O,P,Z,!1,null,"5db7b08e",null),T=S.exports;v().use(k()),window.UIkit=v(),i.ZP.use(l.ZP),i.ZP.use(p.Z),i.ZP.component("Paginate",m()),i.ZP.directive("visible",(function(e,t){e.style.visibility=t.value?"visible":"hidden"})),i.ZP.component("UBtn",T),_().defaults.baseURL="http://77.232.132.37:9111/backend/";const j=localStorage.getItem("user-token");j&&(_().defaults.headers.common.Authorization="Bearer "+j),i.ZP.config.productionTip=!1,new i.ZP({render:e=>e(u),store:y.Z,router:w.Z}).$mount("#app")},4040:function(e,t,n){var i=n(2241),a=n(7195),o=n(9643);a.ZP.use(i.ZP);const s=new i.ZP({base:"/",mode:"history",routes:[{path:"/",name:"index",component:()=>n.e(229).then(n.bind(n,7229))}]});s.beforeEach(((e,t,n)=>{o.Z.dispatch("fetch_content",e.name??"index"),n()})),t["Z"]=s},9643:function(e,t,n){n.d(t,{Z:function(){return m}});var i=n(7195),a=n(8428),o=n.n(a),s={state:{token:localStorage.getItem("user-token")||"",authUser:{}},getters:{authUser:e=>e.authUser,isAuthenticated:e=>!!e.token},actions:{sign_in({commit:e},t){return new Promise(((n,i)=>{o().post("/api/login",t).then((t=>{console.log(t.data.response),e("auth_success",t.data.response),n()})).catch((()=>i()))}))},register({commit:e},t){return new Promise(((n,i)=>{o().post("/api/register",t).then((t=>{e("auth_success",t.data.response),n()})).catch((()=>i()))}))},update_profile({commit:e},t){return new Promise(((n,i)=>{o().post("/api/update_profile",t).then((t=>{e("update_profile",t.data.response),n()})).catch((e=>{i(e)}))}))},logout({commit:e}){return new Promise((t=>{e("logout"),t()}))}},mutations:{auth_success(e,t){localStorage.setItem("user-token",t.token),o().defaults.headers.common.Authorization="Bearer "+t.token,e.token=t.token,e.authUser=t.user},update_profile(e,t){e.authUser=t},logout(e){e.token="",e.authUser={},delete o().defaults.headers.common.Authorization,localStorage.removeItem("user-token")}}},r=(n(541),{state:{pagination_response:{}},getters:{pagination_response:e=>e.pagination_response},actions:{fetch_all_msisdns(){return new Promise(((e,t)=>{o().get("/api/all_msisdns").then((t=>{e(t.data.response)})).catch((()=>t()))}))},fetch_devices({commit:e},t){return new Promise(((n,i)=>{o().get("/api/devices",{params:t}).then((t=>{const i=t.data.response;i.data=i.data.map((e=>(e.is_collapsed=!0,e.is_collapsable=0!==e.black_list.length,e))),e("set_pagination_response",i),n(i)})).catch((()=>i()))}))},fetch_my_devices(){return new Promise(((e,t)=>{o().get("/api/my_devices").then((t=>{e(t.data.response)})).catch((()=>t()))}))},call({commit:e},t){return new Promise(((e,n)=>{o().post("/api/call",t).then((()=>{e()})).catch((()=>n()))}))},set_pagination_response({commit:e},t){e("set_pagination_response",t)},create_device({commit:e},t){let n=Object.assign({},t);return new Promise(((t,i)=>{e("add_init_device",n),o().post("api/devices",n).then((n=>{e("add_success_device",n.data.response.id),t()})).catch((()=>{e("add_failed_device"),i()}))}))},update_device({commit:e},t){return e("update_init_device",t),new Promise(((n,i)=>{o().patch("/api/devices",t).then((()=>{e("update_success_device",t.id),n()})).catch((()=>{e("update_failed_device",t.id),i()}))}))},remove_device({commit:e},t){return new Promise(((n,i)=>{o()["delete"](`/api/devices/${t}`).then((()=>{e("remove_device",t),n()})).catch((()=>i()))}))},create_device_msisdn({commit:e},t){return new Promise(((n,i)=>{o().post(`/api/devices/${t.device_id}/msisdn`,{msisdn:t.msisdn}).then((()=>{e("create_device_msisdn",t),n()})).catch((()=>i()))}))},remove_device_msisdn({commit:e},t){return new Promise(((n,i)=>{o()["delete"](`/api/devices/${t.device_id}/${t.msisdn}`).then((()=>{e("remove_device_msisdn",t),n()})).catch((()=>i()))}))}},mutations:{add_init_device(e,t){let n=Object.assign({},t);e.pagination_response.data.length>10&&e.pagination_response.data.pop(),n.creator=m.getters.isAuthenticated?this.getters.authUser:null,n.imsi={imsi:n.imsi},n.msisdn={msisdn:n.msisdn},n.is_collapsable=!1,n.is_collapsed=!0,n.created_at=new Date,n.updated_at=new Date,n.status="",n.black_list=[],e.pagination_response.data.unshift(n)},add_success_device(e,t){let n=e.pagination_response.data[0];n.id=t,n.status="success",setTimeout((()=>n.status=""),400)},add_failed_device(e){let t=e.pagination_response.data[0];t.status="failed",setTimeout((()=>{setTimeout((()=>{e.pagination_response.data.shift()}),200),t.status=""}),100)},update_init_device(e,t){let n=e.pagination_response.data.find((e=>+e.id===+t.id));for(let i in t)"object"===typeof n[i]?n[i][i]=t[i]:n[i]=t[i];n.status="init",n.updated_at=new Date},update_success_device(e,t){let n=e.pagination_response.data.find((e=>e.id===t));n.status="updated",setTimeout((()=>n.status=""),100)},update_failed_device(e,t){let n=e.pagination_response.data.find((e=>e.id===t));n.status="failed",setTimeout((()=>n.status=""),100)},set_pagination_response(e,t){e.pagination_response=t},create_device(e,t){e.pagination_response.data.pop(),e.pagination_response.data.unshift(t)},remove_device(e,t){e.pagination_response.data=e.pagination_response.data.filter((e=>+e.id!==+t))},create_device_msisdn(e,t){const n=e.pagination_response.data.find((e=>+e.id===+t.device_id));n.is_collapsable=!0,n.black_list.unshift(t.msisdn)},remove_device_msisdn(e,t){const n=e.pagination_response.data.black_list.find((e=>+e.id===+t.device_id));n.black_list=n.black_list.filter((e=>e!==t.msisdn)),0===n.black_list.length&&(n.is_collapsable=!1)}}}),c=n(4040),d={state:{content:[]},getters:{content:e=>e.content},actions:{fetch_content({commit:e},t){return new Promise(((n,i)=>{o().get("/api/pages/"+t).then((t=>{e("set_content",t.data.response),n()})).catch((()=>i()))}))},set_content_block_query({commit:e},{block:t,content:n}){return new Promise(((i,a)=>{o().patch("/api/pages",{page:c.Z.currentRoute.name,block:t,content:n}).then((()=>{e("set_content_block",{block:t,content:n}),i()})).catch((()=>a()))}))},set_content_block({commit:e},{block:t,content:n}){return new Promise((i=>{e("set_content_block",{block:t,content:n}),i()}))}},mutations:{set_content(e,t){e.content=t},set_content_block(e,{block:t,content:n}){e.content.find((e=>e.block===t)).content=n}}},u=n(408),l=n(6006),p=n(998),f=n.n(p);i.ZP.use(u.ZP);var m=new u.ZP.Store({state:{loading:!0},getters:{loading:e=>e.loading},actions:{reset(){return new Promise(((e,t)=>{o().get("/api/reset").then((()=>{e()})).catch((()=>t()))}))},change_loading({commit:e},t){e("change_loading",t)},collapse_table_handler(){f()(".collapsable").click((function(e){"svg"!==e.target.nodeName&&(f()(this).hasClass("collapsed")?(f()(this).nextUntil("tr.collapsed").find("td").parent().find("td > div").slideDown("fast",(function(){var e=f()(this);e.replaceWith(e.contents())})),f()(this).removeClass("collapsed")):(f()(this).nextUntil("tr.collapsed").find("td").wrapInner('<div style="display: block;" />').parent().find("td > div").slideUp("fast"),f()(this).addClass("collapsed")))}))}},mutations:{change_loading(e,t){e.loading=t}},plugins:[(0,l.Z)()],modules:{auth:s,device:r,content:d}})}},t={};function n(i){var a=t[i];if(void 0!==a)return a.exports;var o=t[i]={exports:{}};return e[i].call(o.exports,o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(t,i,a,o){if(!i){var s=1/0;for(u=0;u<e.length;u++){i=e[u][0],a=e[u][1],o=e[u][2];for(var r=!0,c=0;c<i.length;c++)(!1&o||s>=o)&&Object.keys(n.O).every((function(e){return n.O[e](i[c])}))?i.splice(c--,1):(r=!1,o<s&&(s=o));if(r){e.splice(u--,1);var d=a();void 0!==d&&(t=d)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[i,a,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,i){return n.f[i](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/"+e+".5771d8da.js"}}(),function(){n.miniCssF=function(e){return"css/"+e+".68444bd5.css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="ft2:";n.l=function(i,a,o,s){if(e[i])e[i].push(a);else{var r,c;if(void 0!==o)for(var d=document.getElementsByTagName("script"),u=0;u<d.length;u++){var l=d[u];if(l.getAttribute("src")==i||l.getAttribute("data-webpack")==t+o){r=l;break}}r||(c=!0,r=document.createElement("script"),r.charset="utf-8",r.timeout=120,n.nc&&r.setAttribute("nonce",n.nc),r.setAttribute("data-webpack",t+o),r.src=i),e[i]=[a];var p=function(t,n){r.onerror=r.onload=null,clearTimeout(f);var a=e[i];if(delete e[i],r.parentNode&&r.parentNode.removeChild(r),a&&a.forEach((function(e){return e(n)})),t)return t(n)},f=setTimeout(p.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=p.bind(null,r.onerror),r.onload=p.bind(null,r.onload),c&&document.head.appendChild(r)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/"}(),function(){if("undefined"!==typeof document){var e=function(e,t,n,i,a){var o=document.createElement("link");o.rel="stylesheet",o.type="text/css";var s=function(n){if(o.onerror=o.onload=null,"load"===n.type)i();else{var s=n&&("load"===n.type?"missing":n.type),r=n&&n.target&&n.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=s,c.request=r,o.parentNode&&o.parentNode.removeChild(o),a(c)}};return o.onerror=o.onload=s,o.href=t,n?n.parentNode.insertBefore(o,n.nextSibling):document.head.appendChild(o),o},t=function(e,t){for(var n=document.getElementsByTagName("link"),i=0;i<n.length;i++){var a=n[i],o=a.getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(o===e||o===t))return a}var s=document.getElementsByTagName("style");for(i=0;i<s.length;i++){a=s[i],o=a.getAttribute("data-href");if(o===e||o===t)return a}},i=function(i){return new Promise((function(a,o){var s=n.miniCssF(i),r=n.p+s;if(t(s,r))return a();e(i,r,null,a,o)}))},a={143:0};n.f.miniCss=function(e,t){var n={229:1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=i(e).then((function(){a[e]=0}),(function(t){throw delete a[e],t})))}}}(),function(){var e={143:0};n.f.j=function(t,i){var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)i.push(a[2]);else{var o=new Promise((function(n,i){a=e[t]=[n,i]}));i.push(a[2]=o);var s=n.p+n.u(t),r=new Error,c=function(i){if(n.o(e,t)&&(a=e[t],0!==a&&(e[t]=void 0),a)){var o=i&&("load"===i.type?"missing":i.type),s=i&&i.target&&i.target.src;r.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",r.name="ChunkLoadError",r.type=o,r.request=s,a[1](r)}};n.l(s,c,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,i){var a,o,s=i[0],r=i[1],c=i[2],d=0;if(s.some((function(t){return 0!==e[t]}))){for(a in r)n.o(r,a)&&(n.m[a]=r[a]);if(c)var u=c(n)}for(t&&t(i);d<s.length;d++)o=s[d],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(u)},i=self["webpackChunkft2"]=self["webpackChunkft2"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=n.O(void 0,[998],(function(){return n(1166)}));i=n.O(i)})();
//# sourceMappingURL=app.ad3f072c.js.map